<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>300 Kings – AI-Powered Ad Campaigns</title>
    <meta
      name="description"
      content="AI + creative to scale your ads fast, safely, and profitably."
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&family=Manrope:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/main.css" />
    <link
      href="https://assets.calendly.com/assets/external/widget.css"
      rel="stylesheet"
    />
    <script
      src="https://assets.calendly.com/assets/external/widget.js"
      type="text/javascript"
      async
    ></script>
  </head>
  <body>
    <canvas id="background-canvas" aria-hidden="true"></canvas>
    <div id="money-rain" aria-hidden="true"></div>
    <div id="leprechaun-layer" aria-hidden="true"></div>
    <header class="hero">
      <div class="hero__content container">
        <span class="pill" data-reveal data-reveal-delay="0"
          >Deployed on Netlify</span
        >
        <h1 data-reveal data-reveal-delay="120">
          Jump on the AI wave with a campaign team that never sleeps.
        </h1>
        <p data-reveal data-reveal-delay="200">
          We combine creative direction, AI production, and performance media
          buying to build ads that print cash.
        </p>
        <div class="hero__actions" data-reveal data-reveal-delay="260">
          <a
            class="cta"
            href="#"
            onclick="Calendly.initPopupWidget({url: 'https://calendly.com/kevincacheiro93/30-min-meeting'}); return false;"
            >Schedule a call</a
          >
          <a class="cta secondary" href="#contact">Contact us</a>
        </div>
        <div
          class="fomo"
          aria-live="polite"
          data-reveal
          data-reveal-delay="320"
        >
          <strong>Founder offer:</strong>
          <span
            ><span id="spots-remaining">5</span> discounted launch slots left
            this month.</span
          >
          <button id="claim" class="cta cta-small">Claim a spot</button>
        </div>
      </div>
    </header>

    <main>
      <section class="section container" id="services">
        <div class="section__header" data-reveal>
          <h2>Every channel, perfectly orchestrated</h2>
          <p class="muted">
            We blend AI tooling with human strategy to outmaneuver your
            competition.
          </p>
        </div>
        <ul class="grid grid-3">
          <li
            class="card"
            data-gradient
            data-reveal
            data-reveal-delay="80"
            tabindex="0"
            role="article"
          >
            <strong>AI Production Lab</strong>
            <p>
              Daily creative refreshes, voiceover swaps, and format
              experimentation handled for you.
            </p>
          </li>
          <li
            class="card"
            data-gradient
            data-reveal
            data-reveal-delay="140"
            tabindex="0"
            role="article"
          >
            <strong>Performance Playbooks</strong>
            <p>
              Battle-tested launch frameworks that make Google and Meta
              algorithms fall in love with your data.
            </p>
          </li>
          <li
            class="card"
            data-gradient
            data-reveal
            data-reveal-delay="200"
            tabindex="0"
            role="article"
          >
            <strong>Analytics &amp; Automation</strong>
            <p>
              Custom Looker dashboards, anomaly detection, and automated pacing
              adjustments.
            </p>
          </li>
        </ul>
      </section>

      <section class="section section--alt" id="process">
        <div class="container">
          <div class="section__header" data-reveal>
            <h2>What happens after you press play?</h2>
            <p class="muted">
              A guided, collaborative sprint that keeps you in the loop while we
              build the engine.
            </p>
          </div>
          <div class="timeline" data-reveal>
            <div class="timeline__track" aria-hidden="true"></div>
            <div class="timeline__progress" aria-hidden="true"></div>
            <article data-gradient tabindex="0">
              <h3>01. Deep-dive intelligence</h3>
              <p>
                We map your customer motivations, existing performance, and
                creative constraints in a 72-hour audit.
              </p>
            </article>
            <article data-gradient tabindex="0">
              <h3>02. Creative prototyping</h3>
              <p>
                Storyboards, hooks, and AI-assisted variations are generated,
                tested, and iterated with your team.
              </p>
            </article>
            <article data-gradient tabindex="0">
              <h3>03. Scaling orchestration</h3>
              <p>
                We launch across paid channels, automate the boring parts, and
                hand you a repeatable growth model.
              </p>
            </article>
          </div>
        </div>
      </section>

      <section class="section container" id="proof">
        <div class="section__header" data-reveal>
          <h2>Numbers that speak louder than hype</h2>
          <p class="muted">
            From scrappy DTC launches to enterprise demand gen, we obsess over
            revenue, not vanity metrics.
          </p>
        </div>
        <div class="metrics grid grid-3">
          <div class="metric" data-gradient data-reveal tabindex="0">
            <strong>$18M+</strong>
            <span>Revenue influenced across 14 verticals</span>
          </div>
          <div
            class="metric"
            data-gradient
            data-reveal
            data-reveal-delay="80"
            tabindex="0"
          >
            <strong>41%</strong>
            <span>Average CAC reduction within first 60 days</span>
          </div>
          <div
            class="metric"
            data-gradient
            data-reveal
            data-reveal-delay="160"
            tabindex="0"
          >
            <strong>9.6/10</strong>
            <span>Client satisfaction score from post-launch surveys</span>
          </div>
        </div>
      </section>

      <section class="section section--alt" id="contact">
        <div class="container contact">
          <div class="contact__intro" data-reveal>
            <h2>Ready to build your growth engine?</h2>
            <p class="muted">
              Tell us where you&apos;re stuck. We&apos;ll send a custom plan
              with timelines, forecasts, and pricing.
            </p>
            <ul class="contact__highlights">
              <li>24-hour response guarantee</li>
              <li>Full creative &amp; media audit included</li>
              <li>We work as an embedded partner</li>
            </ul>
            <div class="contact__pulse" aria-hidden="true"></div>
          </div>
          <form
            id="contact-form"
            class="contact__form"
            action="https://formspree.io/f/xayrlgzd"
            method="POST"
            data-reveal
          >
            <label class="field">
              <span class="field__label">Your name</span>
              <input
                type="text"
                name="name"
                placeholder="Jane Founder"
                autocomplete="name"
                required
              />
            </label>
            <label class="field">
              <span class="field__label">Work email</span>
              <input
                type="email"
                name="email"
                placeholder="you@brand.com"
                autocomplete="email"
                required
              />
            </label>
            <label class="field field--textarea">
              <span class="field__label">What&apos;s the goal?</span>
              <textarea
                name="message"
                rows="4"
                maxlength="500"
                placeholder="Launch a new funnel, scale spend, improve retention..."
                required
              ></textarea>
              <span class="char-counter"
                ><span data-char-counter>500</span> characters left</span
              >
            </label>
            <button type="submit" class="cta">Send the brief</button>
            <p
              class="form-status"
              role="status"
              aria-live="polite"
              data-submit-status
            >
              We reply within 24 hours.
            </p>
          </form>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <p>
          &copy; <span id="year"></span> 300 Kings. Built with relentless
          experimentation.
        </p>
      </div>
    </footer>

    <script type="module" src="assets/js/main.js"></script>
    <script>
      (function enablePreviewFallback() {
        const base = document.baseURI || "";
        const needsInline =
          base.startsWith("about:") || base.startsWith("data:");
        if (!needsInline) return;

        const style = document.createElement("style");
        style.textContent = `:root {
  --ink: #0d1b2a;
  --muted: #4f5d75;
  --accent: #1260f1;
  --accent-soft: rgba(18, 96, 241, 0.12);
  --accent-strong: rgba(18, 96, 241, 0.18);
  --cta: #ff2a2a;
  --surface: #ffffff;
  --surface-alt: #f1f5f9;
  --shadow: 0 30px 60px rgba(15, 23, 42, 0.08);
  --motion-fast: cubic-bezier(0.17, 0.89, 0.32, 1.49);
  --motion-slow: cubic-bezier(0.16, 0.84, 0.44, 1);
}

* {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family:
    "Manrope",
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    sans-serif;
  background: var(--surface);
  color: var(--ink);
  overflow-x: hidden;
}

a:focus-visible,
button:focus-visible,
[tabindex]:focus-visible {
  outline: 3px solid rgba(18, 96, 241, 0.45);
  outline-offset: 4px;
  border-radius: 14px;
}

a {
  color: inherit;
  text-decoration: none;
}

.hero,
main,
footer {
  position: relative;
  z-index: 1;
}

.container {
  width: min(1100px, 92vw);
  margin: 0 auto;
}

.hero {
  position: relative;
  padding: 8rem 0 6rem;
  overflow: hidden;
}

.hero__content {
  position: relative;
  z-index: 2;
  text-align: center;
  display: grid;
  gap: 1.5rem;
}

.hero h1 {
  font-family: "Space Grotesk", sans-serif;
  font-size: clamp(2.3rem, 4.5vw, 3.6rem);
  margin: 0;
  letter-spacing: -0.01em;
}

.hero p {
  max-width: 720px;
  margin: 0 auto;
  font-size: 1.1rem;
  line-height: 1.6;
}

.hero__content::after {
  content: "";
  position: absolute;
  inset: -20% -10% auto;
  height: 60%;
  z-index: -1;
  background: radial-gradient(
    520px 320px at 50% 0%,
    rgba(18, 96, 241, 0.08),
    transparent 70%
  );
  filter: blur(0.4px);
}

.pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.35rem 0.8rem;
  border-radius: 999px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.72rem;
  background: var(--accent-soft);
  color: var(--accent);
}

.hero h1,
.hero p,
.hero__actions,
.fomo {
  position: relative;
}

.hero__actions {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
}

.cta {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.4rem;
  padding: 0.9rem 1.8rem;
  border-radius: 999px;
  border: none;
  background: linear-gradient(135deg, #ff6b6b, var(--cta));
  color: #fff;
  font-weight: 800;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}

.cta:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 40px rgba(255, 42, 42, 0.22);
}

.cta:focus-visible {
  transform: translateY(-1px);
}

.cta.secondary {
  background: transparent;
  color: var(--accent);
  border: 1px solid rgba(18, 96, 241, 0.18);
  box-shadow: none;
}

.cta.secondary:hover {
  box-shadow: none;
  transform: translateY(-1px);
  background: rgba(18, 96, 241, 0.08);
}

.cta-small {
  padding: 0.55rem 1.4rem;
  font-size: 0.95rem;
  border-radius: 12px;
}

.fomo {
  display: inline-flex;
  align-items: center;
  gap: 0.85rem;
  margin: 0 auto;
  padding: 0.65rem 1rem;
  border-radius: 999px;
  background: rgba(255, 224, 138, 0.4);
  color: #553600;
  font-weight: 600;
  box-shadow: 0 16px 32px rgba(255, 193, 7, 0.16);
  flex-wrap: wrap;
  justify-content: center;
}

.section {
  padding: 5rem 0;
}

.section--alt {
  background: var(--surface-alt);
}

.section__header {
  text-align: center;
  display: grid;
  gap: 0.75rem;
  margin-bottom: 3rem;
}

.section__header h2 {
  margin: 0;
  font-family: "Space Grotesk", sans-serif;
  font-size: clamp(1.9rem, 3.2vw, 2.8rem);
}

.section__header p {
  max-width: 680px;
  margin: 0 auto;
  line-height: 1.6;
}

.muted {
  color: var(--muted);
}

[data-reveal] {
  --reveal-delay: 0ms;
  opacity: 0;
  transform: translateY(40px) scale(0.98);
  filter: blur(12px);
  transition:
    opacity 0.7s var(--motion-slow) var(--reveal-delay),
    transform 0.7s var(--motion-slow) var(--reveal-delay),
    filter 0.7s ease var(--reveal-delay);
}

[data-reveal="visible"] {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0);
}

.grid {
  display: grid;
  gap: 1.5rem;
}

.grid-3 {
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
}

[data-gradient] {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  transition:
    transform 0.35s var(--motion-slow),
    box-shadow 0.35s ease;
  outline: none;
}

[data-gradient]::before {
  content: "";
  position: absolute;
  inset: -1px;
  z-index: -1;
  border-radius: inherit;
  background: radial-gradient(
    180px 160px at var(--pointer-x, 50%) var(--pointer-y, 50%),
    rgba(18, 96, 241, 0.16),
    transparent 74%
  );
  opacity: var(--pointer-opacity, 0);
  transition: opacity 0.35s ease;
  pointer-events: none;
}

[data-gradient]:hover,
[data-gradient].glow-active,
[data-gradient].is-active {
  transform: translateY(-6px);
}

[data-gradient]:hover::before,
[data-gradient].glow-active::before,
[data-gradient].is-active::before,
[data-gradient]:focus-visible::before {
  opacity: 1;
}

[data-gradient]:focus-visible {
  box-shadow: 0 0 0 4px rgba(18, 96, 241, 0.2);
}

.card {
  padding: 1.9rem;
  border-radius: 20px;
  background: #ffffff;
  border: 1px solid rgba(15, 23, 42, 0.1);
  box-shadow: var(--shadow);
  display: grid;
  gap: 0.75rem;
}

.card strong {
  display: block;
  font-size: 1.18rem;
  margin-bottom: 0.2rem;
}

.timeline {
  position: relative;
  display: grid;
  gap: 1.8rem;
  max-width: 840px;
  margin: 0 auto;
  padding-left: clamp(1.4rem, 4vw, 2.8rem);
}

.timeline__track,
.timeline__progress {
  position: absolute;
  left: clamp(0.3rem, 2vw, 1rem);
  width: 4px;
  border-radius: 999px;
  top: 0;
  height: 100%;
}

.timeline__track {
  background: linear-gradient(
    180deg,
    rgba(148, 163, 184, 0.4),
    rgba(203, 213, 225, 0)
  );
}

.timeline__progress {
  background: linear-gradient(180deg, var(--accent), #38bdf8);
  transform-origin: top;
  transform: scaleY(var(--timeline-progress, 0));
  transition: transform 0.5s var(--motion-slow);
}

.timeline article {
  padding: 1.9rem 1.9rem 1.9rem clamp(2.2rem, 6vw, 3.7rem);
  border-radius: 18px;
  background: #ffffff;
  border: 1px solid rgba(15, 23, 42, 0.1);
  box-shadow: var(--shadow);
}

.timeline article h3 {
  margin-top: 0;
  margin-bottom: 0.6rem;
}

.timeline article.is-active {
  transform: translateX(6px);
  box-shadow: 0 24px 70px rgba(18, 96, 241, 0.18);
}

.metrics {
  text-align: center;
}

.metric {
  padding: 2.4rem 1.6rem;
  border-radius: 24px;
  background: #ffffff;
  border: 1px solid rgba(15, 23, 42, 0.1);
  box-shadow: var(--shadow);
  display: grid;
  gap: 0.4rem;
  text-align: center;
}

.metric strong {
  font-size: 2.5rem;
  font-family: "Space Grotesk", sans-serif;
}

.contact {
  display: grid;
  gap: 3rem;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  align-items: start;
}

.contact__intro {
  position: relative;
  display: grid;
  gap: 1.25rem;
}

.contact__highlights {
  list-style: none;
  padding: 0;
  margin: 1.5rem 0 0;
  display: grid;
  gap: 0.75rem;
  color: var(--muted);
}

.contact__pulse {
  width: 200px;
  aspect-ratio: 1/1;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(18, 96, 241, 0.16), transparent 70%);
  filter: blur(2px);
  animation: pulse 6s infinite ease-in-out;
  justify-self: center;
}

.contact__form {
  display: grid;
  gap: 1.4rem;
}

.field {
  display: grid;
  gap: 0.6rem;
  font-weight: 600;
  color: var(--muted);
  position: relative;
}

.field__label {
  font-size: 0.95rem;
  letter-spacing: 0.01em;
  color: var(--ink);
  transition: color 0.25s ease;
}

.field input,
.field textarea {
  width: 100%;
  padding: 0.95rem 1.1rem;
  border-radius: 16px;
  border: 1px solid rgba(15, 23, 42, 0.16);
  font: inherit;
  background: #ffffff;
  transition:
    border-color 0.25s ease,
    box-shadow 0.25s ease,
    transform 0.25s ease;
  box-shadow: inset 0 1px 2px rgba(15, 23, 42, 0.06);
}

.field textarea {
  resize: vertical;
  min-height: 160px;
}

.field.is-focused .field__label {
  color: var(--accent);
}

.field.is-focused input,
.field.is-focused textarea {
  border-color: rgba(18, 96, 241, 0.55);
  box-shadow: 0 0 0 4px rgba(18, 96, 241, 0.18);
  transform: translateY(-2px);
}

.field.is-filled .field__label {
  color: rgba(15, 23, 42, 0.75);
}

.char-counter {
  position: absolute;
  bottom: 0.85rem;
  right: 1.1rem;
  font-size: 0.75rem;
  color: rgba(15, 23, 42, 0.45);
  font-weight: 600;
}

.char-counter[data-state="warn"] {
  color: #d97706;
}

.form-status {
  margin: -0.4rem 0 0;
  font-size: 0.9rem;
  color: rgba(15, 23, 42, 0.6);
}

.footer {
  padding: 2.5rem 0;
  background: #0f172a;
  color: rgba(255, 255, 255, 0.78);
  text-align: center;
}

#background-canvas {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  pointer-events: none;
}

#money-rain {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 3;
  overflow: hidden;
}

#money-rain::before {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(241, 245, 249, 0),
    rgba(14, 116, 144, 0.12)
  );
  opacity: 0;
  transition: opacity 0.4s ease;
}

#money-rain.is-active::before {
  opacity: 1;
}

#leprechaun-layer {
  position: fixed;
  inset: 0;
  z-index: 2;
  pointer-events: none;
}

.leprechaun {
  position: absolute;
  width: clamp(70px, 7vw, 100px);
  aspect-ratio: 1/1;
  border-radius: 50%;
  background: radial-gradient(
    circle at 30% 30%,
    #ffd166,
    #ef476f 60%,
    #073b4c 100%
  );
  border: 4px solid rgba(255, 255, 255, 0.7);
  box-shadow: 0 20px 40px rgba(15, 23, 42, 0.18);
  display: grid;
  place-items: center;
  font-family: "Space Grotesk", sans-serif;
  font-size: clamp(0.8rem, 1.5vw, 1rem);
  font-weight: 700;
  color: #fff;
  cursor: pointer;
  pointer-events: auto;
  transition:
    transform 0.4s ease,
    opacity 0.4s ease;
}

.leprechaun[data-state="exploded"] {
  opacity: 0;
  transform: scale(0.4) rotate(20deg);
  pointer-events: none;
}

.leprechaun__sparkle {
  width: 60%;
  height: 60%;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.95),
    rgba(255, 255, 255, 0)
  );
  opacity: 0;
  animation: sparkle 1.2s ease-out infinite;
}

.leprechaun[data-state="exploding"] .leprechaun__sparkle {
  opacity: 1;
  animation: burst 0.7s ease-out forwards;
}

@keyframes sparkle {
  from {
    transform: scale(0.6);
    opacity: 0.4;
  }
  to {
    transform: scale(1.1);
    opacity: 0;
  }
}

@keyframes burst {
  0% {
    transform: scale(0.4);
    opacity: 1;
  }
  80% {
    transform: scale(1.8);
    opacity: 0.25;
  }
  100% {
    transform: scale(2.4);
    opacity: 0;
  }
}

.bill {
  position: absolute;
  top: -10vh;
  width: clamp(120px, 12vw, 180px);
  aspect-ratio: 2.25 / 1;
  background: linear-gradient(135deg, #0f9d58, #0b6e4f);
  border-radius: 12px;
  border: 2px solid rgba(255, 255, 255, 0.45);
  box-shadow: 0 20px 40px rgba(15, 23, 42, 0.12);
  color: #e6fffb;
  display: grid;
  place-items: center;
  font-family: "Space Grotesk", sans-serif;
  font-weight: 800;
  font-size: clamp(1rem, 2vw, 1.6rem);
  animation: bill-fall linear forwards;
}

@keyframes bill-fall {
  to {
    transform: translateY(120vh) rotate(12deg);
    opacity: 0;
  }
}

@keyframes pulse {
  0%,
  100% {
    transform: scale(0.8);
    opacity: 0.6;
  }
  50% {
    transform: scale(1.1);
    opacity: 1;
  }
}

@media (max-width: 720px) {
  .hero {
    padding: 6rem 0 4rem;
  }

  .section {
    padding: 4rem 0;
  }

  .fomo {
    width: 100%;
    justify-content: center;
  }

  .timeline {
    padding-left: 1.6rem;
  }

  .timeline__track,
  .timeline__progress {
    left: 0.4rem;
  }
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  [data-reveal] {
    opacity: 1 !important;
    transform: none !important;
    filter: none !important;
  }
}
`;
        document.head.appendChild(style);

        if (window.__APP_LOADED__) return;

        (function () {
          const canvas = document.getElementById("background-canvas");
          const ctx = canvas?.getContext("2d", { alpha: false });
          const moneyRainLayer = document.getElementById("money-rain");

          let heartProgress = 0;
          let targetProgress = 0;
          let rafId;

          const HEART_STEPS = 520;
          const pen = {
            x: 0,
            y: 0,
          };

          function resizeCanvas() {
            if (!canvas || !ctx) return;
            const { innerWidth, innerHeight, devicePixelRatio = 1 } = window;
            const dpr = Math.min(2, devicePixelRatio);
            canvas.width = innerWidth * dpr;
            canvas.height = innerHeight * dpr;
            canvas.style.width = `${innerWidth}px`;
            canvas.style.height = `${innerHeight}px`;
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            ctx.scale(dpr, dpr);
            drawHeart(heartProgress);
          }

          function heartPoint(t, scale, offsetX, offsetY) {
            const x = scale * 16 * Math.pow(Math.sin(t), 3) + offsetX;
            const y =
              scale *
                (13 * Math.cos(t) -
                  5 * Math.cos(2 * t) -
                  2 * Math.cos(3 * t) -
                  Math.cos(4 * t)) +
              offsetY;
            return { x, y };
          }

          function drawHeart(progress) {
            if (!canvas || !ctx) return;
            const { width, height } = canvas;
            ctx.save();
            ctx.clearRect(0, 0, width, height);

            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, "#f8fafc");
            gradient.addColorStop(1, "#e2e8f0");
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            ctx.restore();

            ctx.save();
            ctx.lineWidth = 3;
            ctx.lineJoin = "round";
            ctx.lineCap = "round";

            const scale = Math.min(width, height) / 50;
            const offsetX = width / 2;
            const offsetY = height / 2.3;
            const steps = Math.max(4, Math.floor(progress * HEART_STEPS));

            if (steps > 0) {
              ctx.beginPath();
              for (let i = 0; i <= steps; i += 1) {
                const t = (Math.PI * 2 * i) / HEART_STEPS;
                const { x, y } = heartPoint(t, scale, offsetX, offsetY);
                if (i === 0) {
                  ctx.moveTo(x, y);
                } else {
                  ctx.lineTo(x, y);
                }
                if (i === steps) {
                  pen.x = x;
                  pen.y = y;
                }
              }
              ctx.strokeStyle = "#ff2a6f";
              ctx.stroke();

              ctx.shadowColor = "rgba(255, 42, 111, 0.3)";
              ctx.shadowBlur = 20;
              ctx.lineWidth = 6;
              ctx.globalAlpha = 0.3;
              ctx.stroke();
              ctx.globalAlpha = 1;
              ctx.shadowBlur = 0;
            }

            drawPen(progress);
            ctx.restore();
          }

          function drawPen(progress) {
            if (!ctx || progress <= 0) return;
            ctx.save();
            ctx.translate(pen.x, pen.y);
            ctx.fillStyle = "#111827";
            ctx.beginPath();
            ctx.ellipse(0, 0, 12, 6, 0, 0, Math.PI * 2);
            ctx.fill();

            ctx.fillStyle = "#facc15";
            ctx.beginPath();
            ctx.moveTo(0, 0);
            ctx.lineTo(24, -14);
            ctx.lineTo(18, 8);
            ctx.closePath();
            ctx.fill();
            ctx.restore();
          }

          function handleScroll() {
            const docHeight =
              document.documentElement.scrollHeight - window.innerHeight;
            if (docHeight <= 0) {
              targetProgress = 1;
              return;
            }
            targetProgress = Math.min(1, window.scrollY / docHeight);
          }

          function animate() {
            heartProgress += (targetProgress - heartProgress) * 0.08;
            drawHeart(heartProgress);
            rafId = requestAnimationFrame(animate);
          }

          function triggerMoneyRain(duration = 6000) {
            if (!moneyRainLayer) return;
            const start = performance.now();
            const spawnInterval = 140;
            const bills = [];
            moneyRainLayer.classList.add("is-active");

            function spawnBill() {
              const now = performance.now();
              if (now - start > duration) {
                return;
              }
              const bill = document.createElement("div");
              bill.className = "bill";
              bill.textContent = "$100";
              bill.style.left = `${Math.random() * 100}%`;
              const fallDuration = 4000 + Math.random() * 2400;
              bill.style.animationDuration = `${fallDuration}ms`;
              bill.style.transform = `rotate(${(Math.random() - 0.5) * 20}deg)`;
              moneyRainLayer.appendChild(bill);
              bills.push(bill);

              bill.addEventListener("animationend", () => {
                bill.remove();
              });

              setTimeout(spawnBill, spawnInterval + Math.random() * 120);
            }

            spawnBill();

            setTimeout(() => {
              bills.forEach((bill) => bill.remove());
              moneyRainLayer.classList.remove("is-active");
            }, duration + 5000);
          }

          function initHeartCanvas() {
            if (!canvas || !ctx) return;
            resizeCanvas();
            handleScroll();
            window.addEventListener("resize", resizeCanvas);
            window.addEventListener("scroll", handleScroll, { passive: true });
            rafId = requestAnimationFrame(animate);
          }

          window.addEventListener("beforeunload", () => {
            if (rafId) cancelAnimationFrame(rafId);
          });

          const prefersReducedMotion = window.matchMedia(
            "(prefers-reduced-motion: reduce)",
          ).matches;
          const GLOW_CLASS = "glow-active";

          function initScrollReveal() {
            const elements = document.querySelectorAll("[data-reveal]");
            if (!elements.length) return;

            elements.forEach((element) => {
              const delay = Number(element.dataset.revealDelay || 0);
              if (!Number.isNaN(delay)) {
                element.style.setProperty("--reveal-delay", `${delay}ms`);
              }
              if (!element.dataset.reveal) {
                element.dataset.reveal = "hidden";
              }
            });

            if (prefersReducedMotion) {
              elements.forEach((element) => {
                element.dataset.reveal = "visible";
              });
              return;
            }

            const observer = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    entry.target.dataset.reveal = "visible";
                    observer.unobserve(entry.target);
                  }
                });
              },
              { threshold: 0.2, rootMargin: "0px 0px -10% 0px" },
            );

            elements.forEach((element) => {
              observer.observe(element);
            });
          }

          function updateGlowPosition(element, event) {
            const rect = element.getBoundingClientRect();
            const x = ((event.clientX - rect.left) / rect.width) * 100;
            const y = ((event.clientY - rect.top) / rect.height) * 100;
            element.style.setProperty("--pointer-x", `${x}%`);
            element.style.setProperty("--pointer-y", `${y}%`);
            element.style.setProperty("--pointer-opacity", "1");
          }

          function resetGlow(element) {
            element.style.setProperty("--pointer-opacity", "0");
          }

          function initInteractiveGlow() {
            const elements = document.querySelectorAll("[data-gradient]");
            if (!elements.length) return;

            elements.forEach((element) => {
              element.addEventListener("pointermove", (event) => {
                if (event.pointerType === "touch") return;
                updateGlowPosition(element, event);
              });

              element.addEventListener("pointerenter", (event) => {
                if (event.pointerType === "touch") {
                  const isActive = element.classList.toggle(GLOW_CLASS);
                  element.style.setProperty("--pointer-x", "50%");
                  element.style.setProperty("--pointer-y", "50%");
                  element.style.setProperty(
                    "--pointer-opacity",
                    isActive ? "1" : "0",
                  );
                  return;
                }
                updateGlowPosition(element, event);
                element.classList.add(GLOW_CLASS);
              });

              element.addEventListener("pointerleave", () => {
                element.classList.remove(GLOW_CLASS);
                resetGlow(element);
              });

              element.addEventListener("focus", () => {
                element.classList.add(GLOW_CLASS);
                element.style.setProperty("--pointer-x", "50%");
                element.style.setProperty("--pointer-y", "50%");
                element.style.setProperty("--pointer-opacity", "1");
              });

              element.addEventListener("blur", () => {
                element.classList.remove(GLOW_CLASS);
                resetGlow(element);
              });
            });
          }

          function initTimelineProgress() {
            const timeline = document.querySelector(".timeline");
            if (!timeline) return;

            const progressEl = timeline.querySelector(".timeline__progress");
            const steps = Array.from(timeline.querySelectorAll("article"));
            if (!steps.length || !progressEl) return;

            const update = () => {
              const rect = timeline.getBoundingClientRect();
              const viewportHeight =
                window.innerHeight || document.documentElement.clientHeight;
              const scrollTop = window.scrollY || window.pageYOffset;
              const start = rect.top + scrollTop;
              const end = start + rect.height;
              const centerScroll = scrollTop + viewportHeight * 0.5;
              const progress = Math.min(
                1,
                Math.max(0, (centerScroll - start) / (end - start)),
              );
              progressEl.style.setProperty(
                "--timeline-progress",
                progress.toString(),
              );

              let closestStep = steps[0];
              let minDistance = Number.POSITIVE_INFINITY;
              const viewportCenter = viewportHeight * 0.5;

              steps.forEach((step) => {
                const bounds = step.getBoundingClientRect();
                const stepCenter = bounds.top + bounds.height / 2;
                const distance = Math.abs(stepCenter - viewportCenter);
                if (distance < minDistance) {
                  minDistance = distance;
                  closestStep = step;
                }
              });

              steps.forEach((step) => {
                step.classList.toggle("is-active", step === closestStep);
              });
            };

            update();
            window.addEventListener("scroll", update, { passive: true });
            window.addEventListener("resize", update);
          }

          function initContactForm() {
            const form = document.getElementById("contact-form");
            if (!form) return;

            const fields = form.querySelectorAll(".field");
            fields.forEach((field) => {
              const input = field.querySelector("input, textarea");
              if (!input) return;
              const toggleState = () => {
                if (input.value.trim().length > 0) {
                  field.classList.add("is-filled");
                } else {
                  field.classList.remove("is-filled");
                }
              };
              input.addEventListener("focus", () =>
                field.classList.add("is-focused"),
              );
              input.addEventListener("blur", () =>
                field.classList.remove("is-focused"),
              );
              input.addEventListener("input", toggleState);
              toggleState();
            });

            const messageField = form.querySelector('textarea[name="message"]');
            const counter = form.querySelector("[data-char-counter]");
            const statusEl = form.querySelector("[data-submit-status]");
            const maxLength = messageField?.maxLength || 500;

            if (messageField && counter) {
              const updateCount = () => {
                const remaining = Math.max(
                  0,
                  maxLength - messageField.value.length,
                );
                counter.textContent = remaining.toString();
                if (remaining <= Math.round(maxLength * 0.2)) {
                  counter.parentElement?.setAttribute("data-state", "warn");
                } else {
                  counter.parentElement?.removeAttribute("data-state");
                }
              };
              messageField.addEventListener("input", updateCount);
              updateCount();
            }

            if (statusEl) {
              form.addEventListener("submit", () => {
                statusEl.textContent = "Sending…";
              });
            }
          }

          const LAYER_ID = "leprechaun-layer";
          const RESPAWN_DELAY = 20000;
          const LEPRECHAUN_COUNT = 5;

          const positions = [
            { x: 12, y: 18 },
            { x: 78, y: 24 },
            { x: 20, y: 68 },
            { x: 60, y: 72 },
            { x: 40, y: 42 },
          ];

          const leprechaunState = new Map();
          let rainLocked = false;

          function createLepElement(index) {
            const lep = document.createElement("button");
            lep.type = "button";
            lep.className = "leprechaun";
            lep.dataset.state = "idle";
            lep.setAttribute("aria-live", "polite");
            lep.innerHTML = `<span>Luck ${index + 1}</span><div class="leprechaun__sparkle" aria-hidden="true"></div>`;
            return lep;
          }

          function placeLep(lep, position) {
            lep.style.left = `${position.x}%`;
            lep.style.top = `${position.y}%`;
          }

          function randomOffset(value, variance = 10) {
            const offset = (Math.random() - 0.5) * variance;
            return Math.min(92, Math.max(8, value + offset));
          }

          function scheduleRespawn(id, lep) {
            const timer = window.setTimeout(() => {
              lep.dataset.state = "idle";
              lep.classList.remove("exploded");
              const base = positions[id % positions.length];
              placeLep(lep, {
                x: randomOffset(base.x, 12),
                y: randomOffset(base.y, 12),
              });
              lep.style.transform = "scale(1)";
              leprechaunState.set(id, { status: "idle", timer: null });
              rainLocked = false;
            }, RESPAWN_DELAY);
            leprechaunState.set(id, { status: "respawning", timer });
          }

          function tryTriggerMoneyRain() {
            const allExploded = Array.from(leprechaunState.values()).every(
              (entry) => entry.status === "exploded",
            );
            if (allExploded && !rainLocked) {
              rainLocked = true;
              triggerMoneyRain();
            }
          }

          function explodeLep(id, lep) {
            const entry = leprechaunState.get(id);
            if (!entry || entry.status === "exploded") return;

            if (entry.timer) {
              clearTimeout(entry.timer);
            }

            lep.dataset.state = "exploding";
            lep.style.transform = "scale(1.15)";

            window.setTimeout(() => {
              lep.dataset.state = "exploded";
              lep.style.transform = "scale(0.6)";
              leprechaunState.set(id, { status: "exploded", timer: null });
              tryTriggerMoneyRain();
              scheduleRespawn(id, lep);
            }, 520);
          }

          function initLeprechauns() {
            const layer = document.getElementById(LAYER_ID);
            if (!layer) return;

            const fragment = document.createDocumentFragment();

            for (let i = 0; i < LEPRECHAUN_COUNT; i += 1) {
              const lep = createLepElement(i);
              const base = positions[i % positions.length];
              placeLep(lep, {
                x: randomOffset(base.x, 6),
                y: randomOffset(base.y, 6),
              });

              lep.addEventListener("pointerdown", () => explodeLep(i, lep));
              lep.addEventListener("keydown", (event) => {
                if (event.key === "Enter" || event.key === " ") {
                  event.preventDefault();
                  explodeLep(i, lep);
                }
              });

              leprechaunState.set(i, { status: "idle", timer: null });
              fragment.appendChild(lep);
            }

            layer.appendChild(fragment);
          }

          const fomoState = {
            spotsRemaining: 5,
          };

          const yearEl = document.getElementById("year");
          if (yearEl) {
            yearEl.textContent = new Date().getFullYear();
          }

          function initFomoWidget() {
            const claimButton = document.getElementById("claim");
            const spotsEl = document.getElementById("spots-remaining");
            if (!claimButton || !spotsEl) return;

            try {
              const saved = window.localStorage.getItem("kc-spots-remaining");
              if (saved) {
                fomoState.spotsRemaining = Math.max(0, Number(saved));
                spotsEl.textContent = fomoState.spotsRemaining.toString();
              }
            } catch (error) {
              console.warn("localStorage unavailable", error);
            }

            claimButton.addEventListener("click", () => {
              if (fomoState.spotsRemaining === 0) return;
              fomoState.spotsRemaining = Math.max(
                0,
                fomoState.spotsRemaining - 1,
              );
              spotsEl.textContent = fomoState.spotsRemaining.toString();
              try {
                window.localStorage.setItem(
                  "kc-spots-remaining",
                  fomoState.spotsRemaining.toString(),
                );
              } catch (error) {
                console.warn("Unable to persist remaining spots", error);
              }
              claimButton.textContent =
                fomoState.spotsRemaining === 0
                  ? "All claimed!"
                  : "Spot reserved";
              claimButton.disabled = true;
              claimButton.classList.add("secondary");
            });
          }

          initFomoWidget();
          initHeartCanvas();
          initLeprechauns();
          initScrollReveal();
          initInteractiveGlow();
          initTimelineProgress();
          initContactForm();

          window.__APP_LOADED__ = true;
        })();
      })();
    </script>
  </body>
</html>
